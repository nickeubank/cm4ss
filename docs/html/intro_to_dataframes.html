<!DOCTYPE html> <html lang=en > <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="_static/stylesheets/application.css"/> <link rel=stylesheet  href="_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="_static/fonts/material-icons.css"/> <meta name=theme-color  content="#012169"> <script src="_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-203713456-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-203713456-1'); </script> <title>Intro to Dataframes &#8212; Computational Methods for Social Scientists</title> <link rel=stylesheet  type="text/css" href="_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="_static/material.css" /> <link rel=stylesheet  type="text/css" href="_static/nbsphinx-code-cells.css" /> <script data-url_root="./" id=documentation_options  src="_static/documentation_options.js"></script> <script src="_static/jquery.js"></script> <script src="_static/underscore.js"></script> <script src="_static/_sphinx_javascript_frameworks_compat.js"></script> <script src="_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <script defer=defer  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <link rel="shortcut icon" href="_static/mids_logo.svg"/> <link rel=index  title=Index  href=genindex.html  /> <link rel=search  title=Search  href=search.html  /> <link rel=next  title="Manipulating Dataframes" href=manipulating_dataframes.html  /> <link rel=prev  title="Manipulating Matrices" href=manipulating_matrices.html  /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#intro_to_dataframes" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href=index.html  title="Computational Methods for Social Scientists" class="md-header-nav__button md-logo"> <img src="_static/mids_logo.svg" height=26  alt="Computational Methods for Social Scientists logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Computational Methods for Social Scientists</span> <span class=md-header-nav__topic > Intro to Dataframes </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action=search.html  method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=""Search"" autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="_static/javascripts/version_dropdown.js"></script> <script> var json_loc = ""versions.json"", target_loc = "../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=index.html  class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href=class_schedule_fall.html  class=md-tabs__link >Class Schedule (Fall 2023)</a> <li class=md-tabs__item ><a href=class_schedule_winter.html  class=md-tabs__link >Class Schedule (Winter 2024)</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href=index.html  title="Computational Methods for Social Scientists" class="md-nav__button md-logo"> <img src="_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href=index.html  title="Computational Methods for Social Scientists">Computational Methods for Social Scientists</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href=class_schedule_fall.html  class=md-nav__link >Class Schedule (August 2023)</a> <li class=md-nav__item > <a href=class_schedule_winter.html  class=md-nav__link >Class Schedule (January 2024)</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Class Readings</span></span> <li class=md-nav__item > <a href=intro_to_r.html  class=md-nav__link >Intro to R</a> <li class=md-nav__item > <a href=intro_to_datatypes.html  class=md-nav__link >Intro to Data Types</a> <li class=md-nav__item > <a href=intro_to_vectors.html  class=md-nav__link >Intro to Vectors</a> <li class=md-nav__item > <a href=manipulating_vectors.html  class=md-nav__link >Manipulating Vectors</a> <li class=md-nav__item > <a href=intro_to_matrices.html  class=md-nav__link >Intro to Matrices</a> <li class=md-nav__item > <a href=manipulating_matrices.html  class=md-nav__link >Manipulating Matrices</a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Intro to Dataframes </label> <a href="#" class="md-nav__link md-nav__link--active">Intro to Dataframes</a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#intro-to-dataframes--page-root" class=md-nav__link >Intro to Dataframes</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Creating-Dataframes-for-Vectors" class=md-nav__link >Creating Dataframes for Vectors</a> <li class=md-nav__item ><a href="#Getting-to-Know-Your-Dataframe" class=md-nav__link >Getting to Know Your Dataframe</a> <li class=md-nav__item ><a href="#Reading-Data-from-Files" class=md-nav__link >Reading Data from Files</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Working-Directory" class=md-nav__link >Working Directory</a> <li class=md-nav__item ><a href="#Reading-the-File" class=md-nav__link >Reading the File</a> </ul> </nav> <li class=md-nav__item ><a href="#Next-Steps" class=md-nav__link >Next Steps</a> </ul> </nav> </ul> </nav> <li class=md-nav__item > <a href=manipulating_dataframes.html  class=md-nav__link >Manipulating Dataframes</a> <li class=md-nav__item > <a href=intro_to_tidyverse.html  class=md-nav__link >dplyr and the Tidyverse</a> <li class=md-nav__item > <a href=defensive_programming.html  class=md-nav__link >Defensive Programming</a> <li class=md-nav__item > <a href=intro_to_merging.html  class=md-nav__link >Intro to Merging</a> <li class=md-nav__item > <a href=defensive_merging.html  class=md-nav__link >Defensive Merging</a> <li class=md-nav__item > <a href=missing_data.html  class=md-nav__link >Missing Data</a> <li class=md-nav__item > <a href=loops.html  class=md-nav__link >Loops</a> <li class=md-nav__item > <a href=functions.html  class=md-nav__link >Functions</a> <li class=md-nav__item > <a href=function_example.html  class=md-nav__link >Function Example</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Additional Topics</span></span> <li class=md-nav__item > <a href=lists.html  class=md-nav__link >Lists</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#intro-to-dataframes--page-root" class=md-nav__link >Intro to Dataframes</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Creating-Dataframes-for-Vectors" class=md-nav__link >Creating Dataframes for Vectors</a> <li class=md-nav__item ><a href="#Getting-to-Know-Your-Dataframe" class=md-nav__link >Getting to Know Your Dataframe</a> <li class=md-nav__item ><a href="#Reading-Data-from-Files" class=md-nav__link >Reading Data from Files</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Working-Directory" class=md-nav__link >Working Directory</a> <li class=md-nav__item ><a href="#Reading-the-File" class=md-nav__link >Reading the File</a> </ul> </nav> <li class=md-nav__item ><a href="#Next-Steps" class=md-nav__link >Next Steps</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <section id=Intro-to-Dataframes > <h1 id=intro-to-dataframes--page-root >Intro to Dataframes<a class=headerlink  href="#intro-to-dataframes--page-root" title="Permalink to this heading">¶</a></h1> <p>In our previous lessons, we’ve talked about how vectors are often used to store lots of different observations of a given measurement (e.g. the answers of different survey respondents to a given question), and how matrices can be used to collect lots of different measurements in columns (e.g. each column can be answers to different questions).</p> <p>But matrices have one major limitation when it comes to social science workflows, which is that all the entries in a matrix have to be of the same type. In reality, however, we often have datasets with lots of <em>different</em> data types. For example, we might have numeric data on age and income, but character data for people’s names, preferred political candidate, etc. Or we might have data on power plants across the US that includes numeric data on capacity, age, and pollution alongside character data on the power plant’s fuel and the company that owns the plant.</p> <p>To deal with this kind of <em>heterogeneous tabular data</em>, we turn to the <code class="docutils literal notranslate"><span class=pre >data.frame</span></code>.</p> <p>Dataframes are basically just a collection of vectors, where each vector corresponds to a different column, and each column has a single type. Since they’re two-dimensional data structures like matrices, we can actually subset them in the same way as matrices, but they are more flexible in terms of the types of data they can store.</p> <p>In this reading, we’ll discussing how to create dataframes from vectors and how to load dataframes from files. Then in our next reading we will discuss how to manipulate dataframes (which, as we will discover, is very similar to how we learn to manipulate matrices).</p> <section id=Creating-Dataframes-for-Vectors > <h2 id=Creating-Dataframes-for-Vectors >Creating Dataframes for Vectors<a class=headerlink  href="#Creating-Dataframes-for-Vectors" title="Permalink to this heading">¶</a></h2> <p>Let’s start by learning how to create a dataframe from vectors in R. This turns out to be very simple — just combine a set of vectors of the same length using the <code class="docutils literal notranslate"><span class=pre >data.frame()</span></code> command.</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[1]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Create three vectors</span>
<span class=n >name</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=s >"al"</span><span class=p >,</span><span class=w > </span><span class=s >"bea"</span><span class=p >,</span><span class=w > </span><span class=s >"carol"</span><span class=p >)</span>
<span class=n >age</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=m >6</span><span class=p >,</span><span class=w > </span><span class=m >7</span><span class=p >,</span><span class=w > </span><span class=m >4</span><span class=p >)</span>
<span class=n >hair</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=s >"brown"</span><span class=p >,</span><span class=w > </span><span class=s >"green"</span><span class=p >,</span><span class=w > </span><span class=s >"blond"</span><span class=p >)</span>

<span class=c1 ># Create data frame</span>
<span class=n >children</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >data.frame</span><span class=p >(</span><span class=n >name</span><span class=p >,</span><span class=w > </span><span class=n >age</span><span class=p >,</span><span class=w > </span><span class=n >hair</span><span class=p >)</span>
<span class=n >children</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 3 × 3</caption> <thead> <tr><th scope=col >name<th scope=col >age<th scope=col >hair <tr><th scope=col >&lt;chr&gt;<th scope=col >&lt;dbl&gt;<th scope=col >&lt;chr&gt; <tr><td>al <td>6<td>brown <tr><td>bea <td>7<td>green <tr><td>carol<td>4<td>blond </table></div> </div> <p>Or we can create our data frame by inserting our vectors as keyword arguments:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[2]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Create data frame</span>
<span class=n >children</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >data.frame</span><span class=p >(</span>
<span class=w >    </span><span class=n >name</span><span class=w > </span><span class=o >=</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=s >"al"</span><span class=p >,</span><span class=w > </span><span class=s >"bea"</span><span class=p >,</span><span class=w > </span><span class=s >"carol"</span><span class=p >),</span>
<span class=w >    </span><span class=n >age</span><span class=w > </span><span class=o >=</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=m >6</span><span class=p >,</span><span class=w > </span><span class=m >7</span><span class=p >,</span><span class=w > </span><span class=m >4</span><span class=p >),</span>
<span class=w >    </span><span class=n >hair</span><span class=w > </span><span class=o >=</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=s >"brown"</span><span class=p >,</span><span class=w > </span><span class=s >"green"</span><span class=p >,</span><span class=w > </span><span class=s >"blond"</span><span class=p >)</span>
<span class=p >)</span>
<span class=n >children</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 3 × 3</caption> <thead> <tr><th scope=col >name<th scope=col >age<th scope=col >hair <tr><th scope=col >&lt;chr&gt;<th scope=col >&lt;dbl&gt;<th scope=col >&lt;chr&gt; <tr><td>al <td>6<td>brown <tr><td>bea <td>7<td>green <tr><td>carol<td>4<td>blond </table></div> </div> <p>Note that unlike matrices and vectors – which <em>can</em> have names – dataframe columns <strong>always</strong> have names, and you’ll usually see columns accessed by name for reasons we’ll discuss below:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[3]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=n >children</span><span class=p >[,</span><span class=w > </span><span class=s >"hair"</span><span class=p >]</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <style> .list-inline {list-style: none; margin:0; padding: 0} .list-inline>li {display: inline-block} .list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex} </style> <ol class=list-inline ><li>'brown'<li>'green'<li>'blond'</ol></div> </div> <p>And as we discussed before, the columns of a dataframe are just our old friends, the vector!</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[4]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >class</span><span class=p >(</span><span class=n >children</span><span class=p >[,</span><span class=w > </span><span class=s >"hair"</span><span class=p >])</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 'character'</div> </div> </section> <section id=Getting-to-Know-Your-Dataframe > <h2 id=Getting-to-Know-Your-Dataframe >Getting to Know Your Dataframe<a class=headerlink  href="#Getting-to-Know-Your-Dataframe" title="Permalink to this heading">¶</a></h2> <p>To better understand the proper structure of datasets, let’s create a second data frame that has a more realistic data structure:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[5]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=n >country</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >rep</span><span class=p >(</span><span class=nf >c</span><span class=p >(</span><span class=s >"USA"</span><span class=p >,</span><span class=w > </span><span class=s >"China"</span><span class=p >,</span><span class=w > </span><span class=s >"Sudan"</span><span class=p >),</span><span class=w > </span><span class=m >3</span><span class=p >)</span>
<span class=n >year</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >c</span><span class=p >(</span><span class=m >1994</span><span class=p >,</span><span class=w > </span><span class=m >1994</span><span class=p >,</span><span class=w > </span><span class=m >1994</span><span class=p >,</span><span class=w > </span><span class=m >1995</span><span class=p >,</span><span class=w > </span><span class=m >1995</span><span class=p >,</span><span class=w > </span><span class=m >1995</span><span class=p >,</span><span class=w > </span><span class=m >1996</span><span class=p >,</span><span class=w > </span><span class=m >1996</span><span class=p >,</span><span class=w > </span><span class=m >1996</span><span class=p >)</span>
<span class=n >gdp_pc</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >round</span><span class=p >(</span><span class=nf >runif</span><span class=p >(</span><span class=m >9</span><span class=p >,</span><span class=w > </span><span class=m >1000</span><span class=p >,</span><span class=w > </span><span class=m >20000</span><span class=p >))</span>

<span class=n >countries</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >data.frame</span><span class=p >(</span><span class=n >country</span><span class=p >,</span><span class=w > </span><span class=n >year</span><span class=p >,</span><span class=w > </span><span class=n >gdp_pc</span><span class=p >)</span>
<span class=n >countries</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 9 × 3</caption> <thead> <tr><th scope=col >country<th scope=col >year<th scope=col >gdp_pc <tr><th scope=col >&lt;chr&gt;<th scope=col >&lt;dbl&gt;<th scope=col >&lt;dbl&gt; <tr><td>USA <td>1994<td> 2887 <tr><td>China<td>1994<td>15273 <tr><td>Sudan<td>1994<td> 5232 <tr><td>USA <td>1995<td>14511 <tr><td>China<td>1995<td>12811 <tr><td>Sudan<td>1995<td> 7416 <tr><td>USA <td>1996<td>13420 <tr><td>China<td>1996<td>11140 <tr><td>Sudan<td>1996<td>14712 </table></div> </div> <p>Where we can pretend that <code class="docutils literal notranslate"><span class=pre >gdp_pc</span></code> is a measure of a country’s GDP per capita in a given year.</p> <p>(A quick aside: <code class="docutils literal notranslate"><span class=pre >rep()</span></code>, as you may recall, creates a vector that repeats the first input the number of times specified by the second input. <code class="docutils literal notranslate"><span class=pre >runif()</span></code> creates, in this case, 9 random values uniformly distributed between 1000 and 20000.)</p> <p>Now let’s explore some common functions for getting to know your dataframe!</p> <p>Use <code class="docutils literal notranslate"><span class=pre >nrow()</span></code> and <code class="docutils literal notranslate"><span class=pre >ncol()</span></code> to get the number of rows (observations) and columns (variables):</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[6]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Num rows (e.g. observations)</span>
<span class=nf >nrow</span><span class=p >(</span><span class=n >countries</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 9</div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[7]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Num columns (e.g. variables)</span>
<span class=nf >ncol</span><span class=p >(</span><span class=n >countries</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 3</div> </div> <p>Use <code class="docutils literal notranslate"><span class=pre >head()</span></code> and <code class="docutils literal notranslate"><span class=pre >tail()</span></code> to look at the first and last few rows of a dataset, respectively. Obviously this is more useful when we have datasets with hundreds or thousands of observations you can’t just look at the whole thing at once! :)</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[8]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >head</span><span class=p >(</span><span class=n >countries</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 6 × 3</caption> <thead> <tr><th><th scope=col >country<th scope=col >year<th scope=col >gdp_pc <tr><th><th scope=col >&lt;chr&gt;<th scope=col >&lt;dbl&gt;<th scope=col >&lt;dbl&gt; <tr><th scope=row >1<td>USA <td>1994<td> 2887 <tr><th scope=row >2<td>China<td>1994<td>15273 <tr><th scope=row >3<td>Sudan<td>1994<td> 5232 <tr><th scope=row >4<td>USA <td>1995<td>14511 <tr><th scope=row >5<td>China<td>1995<td>12811 <tr><th scope=row >6<td>Sudan<td>1995<td> 7416 </table></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[9]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >tail</span><span class=p >(</span><span class=n >countries</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 6 × 3</caption> <thead> <tr><th><th scope=col >country<th scope=col >year<th scope=col >gdp_pc <tr><th><th scope=col >&lt;chr&gt;<th scope=col >&lt;dbl&gt;<th scope=col >&lt;dbl&gt; <tr><th scope=row >4<td>USA <td>1995<td>14511 <tr><th scope=row >5<td>China<td>1995<td>12811 <tr><th scope=row >6<td>Sudan<td>1995<td> 7416 <tr><th scope=row >7<td>USA <td>1996<td>13420 <tr><th scope=row >8<td>China<td>1996<td>11140 <tr><th scope=row >9<td>Sudan<td>1996<td>14712 </table></div> </div> <p>Finally, <code class="docutils literal notranslate"><span class=pre >summary()</span></code> is a great tool for getting a quick sense of the variables in the data:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[10]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Get some summary information about each variable</span>
<span class=nf >summary</span><span class=p >(</span><span class=n >countries</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
   country               year          gdp_pc
 Length:9           Min.   :1994   Min.   : 2887
 Class :character   1st Qu.:1994   1st Qu.: 7416
 Mode  :character   Median :1995   Median :12811
                    Mean   :1995   Mean   :10822
                    3rd Qu.:1996   3rd Qu.:14511
                    Max.   :1996   Max.   :15273
</pre></div></div> </div> </section> <section id=Reading-Data-from-Files > <h2 id=Reading-Data-from-Files >Reading Data from Files<a class=headerlink  href="#Reading-Data-from-Files" title="Permalink to this heading">¶</a></h2> <p>Yup, it’s finally time for REAL DATA! HOORAY!</p> <p>Well it’s often useful to construct a dataframe manually from vectors for illustrative purposes, in reality the dataframes that you work with will almost always be coming from a file that somebody has provided you (an Excel spreadsheet, a csv spreadsheet, a Stata data set, etc.). To read these kinds of files, you need to:</p> <ol class="arabic simple"> <li><p>Tell R where to find the file you want to read by setting your working directory.</p> <li><p>Execute a command that will read the file from the specified location.</p> </ol> <section id=Working-Directory > <h3 id=Working-Directory >Working Directory<a class=headerlink  href="#Working-Directory" title="Permalink to this heading">¶</a></h3> <p>The first step to loading a file is to understand the concept of a <em>working directory</em>.</p> <p>The working directory is the location on your file system that R thinks of as being “open” in your current session of R. The working directory specifies where R will do things like save or look for files by default. For example, if you’re working directly is currently set to your desktop and you save a file using a command like <code class="docutils literal notranslate"><span class=pre >write.csv("my_data.csv")</span></code>, the file <code class="docutils literal notranslate"><span class=pre >my_data.csv</span></code> will be saved to your desktop. Similarly, if you try to open a file with a command like <code class="docutils literal notranslate"><span class=pre >read.csv("my_data.csv")</span></code>, R will look for a file called “my_data.csv” on your desktop and try to load it, and if it can’t find that file on your desktop, it will say that it was unable to find the file you asked for.</p> <p>You can see the current working directory of your R session with the command <code class="docutils literal notranslate"><span class=pre >getwd()</span></code>. On my system (macOS), the output will look something like this:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[11]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >getwd</span><span class=p >()</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> '/Users/Nick/github/computational_methods_boot_camp/source'</div> </div> <p>What that is saying is that my current working directory is the folder <code class="docutils literal notranslate"><span class=pre >source</span></code> in the folder <code class="docutils literal notranslate"><span class=pre >computational_methods_boot_camp</span></code> in the folder <code class="docutils literal notranslate"><span class=pre >github</span></code> located in my user directory. The exact result you see will vary depending on how you opened R on your own computer, and if you’re working on a Windows computer you can expect that your working directory will start <code class="docutils literal notranslate"><span class=pre >C:/</span></code> instead of a simple <code class="docutils literal notranslate"><span class=pre >/</span></code>.</p> <p>To change your working directory, you can use the command <code class="docutils literal notranslate"><span class=pre >setwd("[new</span> <span class=pre >working</span> <span class=pre >directory]")</span></code>. For example, if I wanted to move my working directory to my desktop, I’d type:</p> <div class="nbinput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[12]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >setwd</span><span class=p >(</span><span class=s >"/users/nick/downloads"</span><span class=p >)</span>
</pre></div> </div> </div> <p>And if you want to see what’s in your working directory (as a sanity check to ensure you’re in the right place), run <code class="docutils literal notranslate"><span class=pre >dir()</span></code>:</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[13]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >setwd</span><span class=p >(</span><span class=s >"/Users/Nick/github/computational_methods_boot_camp/source/data"</span><span class=p >)</span>
<span class=nf >dir</span><span class=p >()</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <style> .list-inline {list-style: none; margin:0; padding: 0} .list-inline>li {display: inline-block} .list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex} </style> <ol class=list-inline ><li>'Datasaurus.tsv'<li>'Frank_All_v97.csv'<li>'RatesDeaths_AllIndicators.xlsx'<li>'State_FIPS.csv'<li>'anes-1948-2012.zip'<li>'democracy.csv'<li>'gdp.csv'<li>'nyc-311-sample'<li>'nyc-311-sample.zip'<li>'region.csv'<li>'states.csv'<li>'states_codebook.csv'<li>'trump_tweets.json'<li>'unicef-all.csv'<li>'unicef-u5mr.csv'<li>'world-small.csv'</ol></div> </div> <p><strong>NOTE: Setting Working Directory in RStudio</strong></p> <p>There are a few different ways to specify file paths, and they can get a little tricky. In the long run learning how file paths work is an important skill, but for the moment, if you are ever unable to set your working directory to the folder you want, in RStudio you can set the working directory by going to the <code class="docutils literal notranslate"><span class=pre >Session</span></code> menu, going to <code class="docutils literal notranslate"><span class=pre >Set</span> <span class=pre >Working</span> <span class=pre >Directory</span></code>, and <code class="docutils literal notranslate"><span class=pre >Choose</span> <span class=pre >Directory...</span></code>.</p> <p>Once you pick a folder, you will see RStudio insert the correct path into the <code class="docutils literal notranslate"><span class=pre >setwd()</span></code> function in your console, changing your working directory <em>and</em> showing you what the filepath actually is.</p> <p>(Note that on macOS, RStudio will often insert a path that starts with <code class="docutils literal notranslate"><span class=pre >~/</span></code>. That’s just a shorthand on macs for the current user’s user directory, and is the same as typing out <code class="docutils literal notranslate"><span class=pre >/users/[your</span> <span class=pre >user</span> <span class=pre >name]/</span></code>).</p> <p>If you want to learn more about file paths, you can read about them here.</p> </section> <section id=Reading-the-File > <h3 id=Reading-the-File >Reading the File<a class=headerlink  href="#Reading-the-File" title="Permalink to this heading">¶</a></h3> <p>Now that we’ve told R where to look for our file, it’s time to read it in.</p> <p>Datasets come in many formats, usually identified by their file suffix. A file ending in <code class="docutils literal notranslate"><span class=pre >.csv</span></code>, for example (e.g. <code class="docutils literal notranslate"><span class=pre >file.csv</span></code>) is a kind of spreadsheet with data stored as comma-separated values. A file ending in <code class="docutils literal notranslate"><span class=pre >.dta</span></code> (e.g. <code class="docutils literal notranslate"><span class=pre >file.dta</span></code>) is a dataset created by the program Stata, and so on. Thankfully, R can read almost any standard data format you may get.</p> <p>To illustrate, here are a handful of commands for reading different types of files. Don’t try to memorize these! I’m only providing you with this list so that you understand that these commands exist so that if you ever need them in the future it will occur to you to google them.</p> <p><strong>Note:</strong> The ability to load some formats requires third party packages.</p> <p>The ability to load some data formats requires installing third party packages. You can install a third party package onto your computer using the command <code class="docutils literal notranslate"><span class=pre >install.packages()</span></code> (e.g. <code class="docutils literal notranslate"><span class=pre >install.packages("foreign")</span></code>), after which you load it into any R session where you want to use the package with the <code class="docutils literal notranslate"><span class=pre >library()</span></code> command (e.g. <code class="docutils literal notranslate"><span class=pre >library(foreign)</span></code>). Note the use of quotes around the package name in <code class="docutils literal notranslate"><span class=pre >install.packages()</span></code>, but not <code class="docutils literal notranslate"><span class=pre >library()</span></code>. Not sure why…</p> <div class="highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Available by default</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read.csv</span><span class=p >(</span><span class=s >"file.csv"</span><span class=p >)</span><span class=w >           </span><span class=c1 ># Comma separated values</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read.csv</span><span class=p >(</span><span class=s >"file.txt"</span><span class=p >,</span><span class=w > </span><span class=n >sep</span><span class=o >=</span><span class=s >"\t"</span><span class=p >)</span><span class=w > </span><span class=c1 ># tab separated values</span>

<span class=c1 ># Using the `foreign` library</span>
<span class=nf >library</span><span class=p >(</span><span class=n >foreign</span><span class=p >)</span><span class=w > </span><span class=c1 >#load foreign</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read.dta</span><span class=p >(</span><span class=s >"file.dta"</span><span class=p >)</span><span class=w >   </span><span class=c1 ># Stata data</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read.spss</span><span class=p >(</span><span class=s >"file.spss"</span><span class=p >)</span><span class=w > </span><span class=c1 ># SPSS data</span>

<span class=c1 ># Using the `readxl` library</span>
<span class=nf >library</span><span class=p >(</span><span class=n >readxl</span><span class=p >)</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read_excel</span><span class=p >(</span><span class=s >"file.xls"</span><span class=p >)</span><span class=w >  </span><span class=c1 ># Excel xls spreadsheet</span>
<span class=n >df</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read_excel</span><span class=p >(</span><span class=s >"file.xlsx"</span><span class=p >)</span><span class=w > </span><span class=c1 ># Excel xlsx spreadsheet</span>
</pre></div> </div> <p>For the exercises we’ll be doing next, we’ll work with the <code class="docutils literal notranslate"><span class=pre >world-small.csv</span></code> dataset, which you can download <a class="reference external" href="https://github.com/nickeubank/computational_methods_boot_camp/blob/main/source/data/world-small.csv">here</a> by clicking the <code class="docutils literal notranslate"><span class=pre >raw</span></code> button, then right-clicking, selecting “Save As…”, and saving the file as <code class="docutils literal notranslate"><span class=pre >world-small.csv</span></code>.).</p> <p>As noted, different commands are used to read different types of files. This is the syntax used for reading a .csv file:</p> <div class="nbinput nblast docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[14]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Set working directory to this file's directory</span>
<span class=c1 ># (this will be different for you!)</span>
<span class=nf >setwd</span><span class=p >(</span><span class=s >"/Users/Nick/github/computational_methods_boot_camp/source/data"</span><span class=p >)</span>

<span class=c1 ># Read in the data and assign to a variable.</span>
<span class=n >world</span><span class=w > </span><span class=o >&lt;-</span><span class=w > </span><span class=nf >read.csv</span><span class=p >(</span><span class=s >"world-small.csv"</span><span class=p >)</span>
</pre></div> </div> </div> <p>As we can see, the return value from <code class="docutils literal notranslate"><span class=pre >read.csv</span></code> is a <code class="docutils literal notranslate"><span class=pre >data.frame</span></code>!</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[15]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=nf >class</span><span class=p >(</span><span class=n >world</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 'data.frame'</div> </div> <p>Using some of the tools we saw above, let’s take a quick look at our dataset!</p> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[16]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Number of observations:</span>
<span class=nf >nrow</span><span class=p >(</span><span class=n >world</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 145</div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[17]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Number of observations</span>
<span class=nf >ncol</span><span class=p >(</span><span class=n >world</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> 4</div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[18]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># Let's look at the first few rows</span>
<span class=nf >head</span><span class=p >(</span><span class=n >world</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area rendered_html docutils container"> <table class=dataframe > <caption>A data.frame: 6 × 4</caption> <thead> <tr><th><th scope=col >country<th scope=col >region<th scope=col >gdppcap08<th scope=col >polityIV <tr><th><th scope=col >&lt;chr&gt;<th scope=col >&lt;chr&gt;<th scope=col >&lt;int&gt;<th scope=col >&lt;dbl&gt; <tr><th scope=row >1<td><span style="white-space:pre-wrap">Albania </span><td><span style="white-space:pre-wrap">C&amp;E Europe </span><td> 7715<td>17.8 <tr><th scope=row >2<td>Algeria <td>Africa <td> 8033<td>10.0 <tr><th scope=row >3<td>Angola <td>Africa <td> 5899<td> 8.0 <tr><th scope=row >4<td>Argentina<td>S. America <td>14333<td>18.0 <tr><th scope=row >5<td><span style="white-space:pre-wrap">Armenia </span><td><span style="white-space:pre-wrap">C&amp;E Europe </span><td> 6070<td>15.0 <tr><th scope=row >6<td>Australia<td>Asia-Pacific<td>35677<td>20.0 </table></div> </div> <div class="nbinput docutils container"> <div class="prompt highlight-none notranslate"><div class=highlight ><pre><span></span>[19]:
</pre></div> </div> <div class="input_area highlight-r notranslate"><div class=highlight ><pre><span></span><span class=c1 ># And get a sense of the variables in the data</span>
<span class=nf >summary</span><span class=p >(</span><span class=n >world</span><span class=p >)</span>
</pre></div> </div> </div> <div class="nboutput nblast docutils container"> <div class="prompt empty docutils container"> </div> <div class="output_area docutils container"> <div class=highlight ><pre>
   country             region            gdppcap08        polityIV
 Length:145         Length:145         Min.   :  188   Min.   : 0.000
 Class :character   Class :character   1st Qu.: 2153   1st Qu.: 7.667
 Mode  :character   Mode  :character   Median : 7271   Median :16.000
                                       Mean   :13252   Mean   :13.408
                                       3rd Qu.:19330   3rd Qu.:19.000
                                       Max.   :85868   Max.   :20.000
</pre></div></div> </div> </section> </section> <section id=Next-Steps > <h2 id=Next-Steps >Next Steps<a class=headerlink  href="#Next-Steps" title="Permalink to this heading">¶</a></h2> <p>Now that we know how to create or load dataframes, now we can <a class="reference internal" href=manipulating_dataframes.html ><span class=doc >turn to learning how we can work with them</span></a>!</p> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href=manipulating_matrices.html  title="Manipulating Matrices" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > "Previous" </span> Manipulating Matrices </span> </div> </a> <a href=manipulating_dataframes.html  title="Manipulating Dataframes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next > <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis > <span class=md-footer-nav__direction > "Next" </span> Manipulating Dataframes </span> </div> <div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2024, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.0.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>